<UserControl x:Class="Gestion_Bibliotheque_Livre.Views.AuthorsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:properties="clr-namespace:Gestion_Bibliotheque_Livre.Properties"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800"
             Background="{StaticResource BackgroundGradient}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Style="{StaticResource ContentHeaderStyle}">
            <StackPanel Orientation="Horizontal">
                <Border Style="{StaticResource HeaderAuthors}">
                    <TextBlock Text="👥"
                               Style="{StaticResource HeaderBooksTextBlock}"/>
                </Border>
                <StackPanel Margin="15,0,0,0">
                    <TextBlock 
                                x:Name="LblAuthorsTitle"
                                Text="{x:Static properties:Resources.Authors}" 
                               Style="{StaticResource ContentTitleStyle}"/>
                    <TextBlock 
                                x:Name="LblManageAuthInfo"
                                Text="{x:Static properties:Resources.ManageAuthInfo}" 
                               Style="{StaticResource ContentSubtitleStyle}"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- DataGrid -->
        <Border Grid.Row="1" Style="{StaticResource DataGridContainerStyle}">
            <DataGrid x:Name="DataGridAuthors"
                      Style="{StaticResource ModernDataGridStyle}"
                       ColumnHeaderStyle="{StaticResource DataGridColumnHeaderStyle}"
                      RowStyle="{StaticResource DataGridRowStyle}"
                      CellStyle="{StaticResource DataGridCellStyle}"
                      AutoGenerateColumns="False">
                <DataGrid.Columns>
                    <DataGridTextColumn 
                                       Header="{x:Static properties:Resources.ID}" 
                                       Binding="{Binding Id}" 
                                       Width="80"
                                       ElementStyle="{StaticResource DataGridTextStyle}"/>
                    <DataGridTextColumn 
                                        x:Name="ColAuthorLastName"
                                        Header="{x:Static properties:Resources.LastName}" 
                                       Binding="{Binding Nom}" 
                                       Width="*"
                                       ElementStyle="{StaticResource DataGridTextStyle}"/>
                    <DataGridTextColumn 
                                        x:Name="ColAuthorFirstName"
                                        Header="{x:Static properties:Resources.FirstName}" 
                                       Binding="{Binding Prenom}" 
                                       Width="*"
                                       ElementStyle="{StaticResource DataGridTextStyle}"/>
                    <DataGridTextColumn 
                                        x:Name="ColAuthorBooksCount"
                                        Header="{x:Static properties:Resources.BooksCount}" 
                                       Binding="{Binding NombreLivres}" 
                                       Width="200"
                                       ElementStyle="{StaticResource DataGridTextStyle}"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
        
        <!-- Action Panel -->
        <Border Grid.Row="3" Style="{StaticResource ActionPanelStyle}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0"  Style="{StaticResource StatisticsHeaderStyle}">
                    <StackPanel>
                        <TextBlock x:Name="TxtBookDetails"
                           Style="{StaticResource TextBlockStyle}"
                           Text="{x:Static properties:Resources.AuthorManagement}" />
                    </StackPanel>
                </Border>

                <Border Grid.Row="1" >
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="10">
                            <Label 
                        x:Name="LblAuthorLastName"
                        Content="{x:Static properties:Resources.LastName}" 
                        Style="{StaticResource ModernLabelStyle}"/>
                            <TextBox x:Name="TxtAuthorLastName" Style="{StaticResource ModernTextBoxStyle}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="10">
                            <Label 
                        x:Name="LblAuthorFirstName"
                            Content="{x:Static properties:Resources.FirstName}" 
                           Style="{StaticResource ModernLabelStyle}"/>
                            <TextBox x:Name="TxtAuthorFirstName" Style="{StaticResource ModernTextBoxStyle}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Bottom" Margin="10">
                            <Button x:Name="BtnAddAuthor" 
                            Content="{x:Static properties:Resources.Add}" 
                            Style="{StaticResource SuccessButtonStyle}"
                            Click="BtnAddAuthor_Click"/>
                            <Button x:Name="BtnEditAuthor" 
                            Content="{x:Static properties:Resources.Edit}" 
                            Style="{StaticResource PrimaryButtonStyle}"
                            Click="BtnEditAuthor_Click"/>
                            <Button x:Name="BtnDeleteAuthor" 
                            Content="{x:Static properties:Resources.Delete}" 
                            Style="{StaticResource DangerButtonStyle}"
                            Click="BtnDeleteAuthor_Click"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Border>
        <!-- Error Message -->
        <Border Grid.Row="4"
                x:Name="ErrorMessageBorder"
                Style="{StaticResource ErrorMessageBorderStyle}"
                Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="⚠️" Style="{StaticResource ErrorIconTextStyle}"/>
                <TextBlock x:Name="TxtErrorMessage"
                           Text=""
                           Style="{StaticResource ErrorMessageTextStyle}"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>