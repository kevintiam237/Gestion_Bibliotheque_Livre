<Window x:Class="Gestion_Bibliotheque_Livre.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:Gestion_Bibliotheque_Livre"
        xmlns:views="clr-namespace:Gestion_Bibliotheque_Livre.Views"
        xmlns:properties="clr-namespace:Gestion_Bibliotheque_Livre.Properties"
        mc:Ignorable="d"
        Title="{x:Static properties:Resources.TitleApp}" 
        Height="800" 
        Width="1400"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundGradient}">

    <Grid>
        <!-- Lignes: En-tête / Barre d'erreur / Contenu -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Barre de titre personnalisée -->
        <Border Grid.Row="0" 
                Style="{StaticResource AppHeaderStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo et titre -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="TitleTextBlock"
                        Text="{x:Static properties:Resources.LibraryManagementSystem}" 
                            Style="{StaticResource Title}"/>
                </StackPanel>

                <!-- Boutons de contrôle -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="BtnLanguage" 
                            Content="{x:Static properties:Resources.Language}"
                            Style="{StaticResource GlassButtonStyle}"
                            Tag="en-US" 
                            Click="BtnLanguage_Click"
                            />
                </StackPanel>
            </Grid>
        </Border>

        <!-- Contenu principal -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="260"/>
                <ColumnDefinition Width="132*"/>
                <ColumnDefinition Width="1009*"/>
            </Grid.ColumnDefinitions>

            <!-- Sidebar Navigation -->
            <Border Grid.Column="0" Background="{StaticResource SidebarBackground}" 
                    BorderBrush="{StaticResource BorderLightBrush}">
                <StackPanel>
                    <!-- Navigation Header -->
                    <TextBlock x:Name="NavHeader"
                                Text="{x:Static properties:Resources.Navigation}" 
                               Style="{StaticResource NavButtonIconStyle}"/>

                    <!-- Navigation Buttons -->
                    <StackPanel>
                        <Button x:Name="BtnNavHome" 
                                Content="{x:Static properties:Resources.Home}" 
                                Style="{StaticResource HomeButtonStyle}"
                                Tag="Accueil"
                                Click="NavButton_Click"/>
                        <Button x:Name="BtnNavAuthors" 
                                Content="{x:Static properties:Resources.ManageAuthors}" 
                                Style="{StaticResource AuthorsButtonStyle}"
                                Tag="Authors"
                                Click="NavButton_Click"/>
                        <Button x:Name="BtnNavBooks" 
                                Content="{x:Static properties:Resources.ManageBooks}" 
                                Style="{StaticResource BookButtonStyle}"
                                Tag="Books"
                                Click="NavButton_Click"/>
                        <Button x:Name="BtnNavCategories" 
                                Content="{x:Static properties:Resources.ManageCategories}" 
                                Style="{StaticResource CategoriesButtonStyle}"
                                Tag="Categories"
                                Click="NavButton_Click"/>
                        <Button x:Name="BtnNavStatistics" 
                                Content="{x:Static properties:Resources.ViewStatistics}" 
                                Style="{StaticResource DashboardButtonStyle}"
                                Tag="Statistics"
                                Click="NavButton_Click"/>
                    </StackPanel>

                    <!-- Quick Stats -->
                    <Border Style="{StaticResource QuickStatsCardStyle}">
                        <StackPanel>
                            <TextBlock x:Name="QuickStatsHeader"
                                       Text="{x:Static properties:Resources.QuickStats}" 
                                       Style="{StaticResource QuickStatsTitleStyle}"/>
                            <Grid Margin="0,15,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0"
                                            Style="{StaticResource QuickStatsStack}">
                                    <Border Background="{StaticResource PrimaryGradient}" 
                                            Style="{StaticResource QuickStatsIcone}">
                                        <TextBlock Text="👤"
                                                   Style="{StaticResource QuickStatsTextBloc}"/>
                                    </Border>
                                    <StackPanel>
                                        <TextBlock x:Name="QuickAuthorsCount" Text="0" 
                                                   Style="{StaticResource QuickStatsValueStyle}"/>
                                        <TextBlock x:Name="QuickAuthorsLabel"
                                                    Text="{x:Static properties:Resources.Authors}" 
                                                   Style="{StaticResource QuickStatsLabelStyle}"/>
                                    </StackPanel>
                                </StackPanel>

                                <StackPanel Grid.Row="1" 
                                            Style="{StaticResource QuickStatsStack}">
                                    <Border Background="{StaticResource SuccessGradient}" 
                                            Style="{StaticResource QuickStatsIcone}">
                                        <TextBlock Text="📚"
                                                   Style="{StaticResource QuickStatsTextBloc}"/>
                                    </Border>
                                    <StackPanel>
                                        <TextBlock x:Name="QuickBooksCount" Text="0" 
                                                   Style="{StaticResource QuickStatsValueStyle}"/>
                                        <TextBlock x:Name="QuickBooksLabel"
                                                    Text="{x:Static properties:Resources.Books}" 
                                                   Style="{StaticResource QuickStatsLabelStyle}"/>
                                    </StackPanel>
                                </StackPanel>

                                <StackPanel Grid.Row="2" 
                                            Style="{StaticResource QuickStatsStack}">
                                    <Border Background="{StaticResource WarningGradient}" 
                                            Style="{StaticResource QuickStatsIcone}">
                                        <TextBlock Text="🏷️" 
                                                   Style="{StaticResource QuickStatsTextBloc}"/>
                                    </Border>
                                    <StackPanel>
                                        <TextBlock x:Name="QuickCategoriesCount" Text="0" 
                                                   Style="{StaticResource QuickStatsValueStyle}"/>
                                        <TextBlock x:Name="QuickCategoriesLabel" 
                                                    Text="{x:Static properties:Resources.Categories}" 
                                                   Style="{StaticResource QuickStatsLabelStyle}"/>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- Content Area avec Frame pour la navigation -->
            <Border Grid.Column="1" Background="Transparent" Padding="30" Grid.ColumnSpan="2">
                <Frame x:Name="MainFrame" 
                       NavigationUIVisibility="Hidden"
                       Background="Transparent"
                       BorderThickness="0"/>
            </Border>
        </Grid>

        <!-- Status Bar -->
        <Border Grid.Row="2" 
                Style="{StaticResource StatusBarBorderStyle}">
            <Grid>
                <TextBlock Text="© 2024 Library Management System • Modern WPF Application" 
                           Style="{StaticResource StatusBarTextStyle}"/>
                <TextBlock x:Name="TxtStatus" 
                           Text="Ready" 
                           Style="{StaticResource StatusBarTextStyleRight}"/>
            </Grid>
        </Border>
    </Grid>
</Window>